{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useCartStore\", {\n    enumerable: true,\n    get: function () {\n      return useCartStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  const useCartStore = (0, _zustand.create)((set, get) => ({\n    items: [],\n    restaurant: null,\n    addItem: (menuItem, restaurant) => {\n      const {\n        items,\n        restaurant: currentRestaurant\n      } = get();\n\n      // If cart has items from different restaurant, clear it\n      if (currentRestaurant && currentRestaurant.id !== restaurant.id) {\n        set({\n          items: [{\n            menuItem,\n            quantity: 1\n          }],\n          restaurant\n        });\n        return;\n      }\n      const existingItem = items.find(item => item.menuItem.id === menuItem.id);\n      if (existingItem) {\n        set({\n          items: items.map(item => item.menuItem.id === menuItem.id ? Object.assign({}, item, {\n            quantity: item.quantity + 1\n          }) : item),\n          restaurant\n        });\n      } else {\n        set({\n          items: [...items, {\n            menuItem,\n            quantity: 1\n          }],\n          restaurant\n        });\n      }\n    },\n    removeItem: menuItemId => {\n      const {\n        items\n      } = get();\n      const newItems = items.filter(item => item.menuItem.id !== menuItemId);\n      if (newItems.length === 0) {\n        set({\n          items: [],\n          restaurant: null\n        });\n      } else {\n        set({\n          items: newItems\n        });\n      }\n    },\n    updateQuantity: (menuItemId, quantity) => {\n      const {\n        items\n      } = get();\n      if (quantity <= 0) {\n        get().removeItem(menuItemId);\n        return;\n      }\n      set({\n        items: items.map(item => item.menuItem.id === menuItemId ? Object.assign({}, item, {\n          quantity\n        }) : item)\n      });\n    },\n    clearCart: () => {\n      set({\n        items: [],\n        restaurant: null\n      });\n    },\n    getSubtotal: () => {\n      const {\n        items\n      } = get();\n      return items.reduce((sum, item) => sum + item.menuItem.price * item.quantity, 0);\n    },\n    getTotal: () => {\n      const {\n        restaurant\n      } = get();\n      const subtotal = get().getSubtotal();\n      return subtotal + (restaurant?.delivery_fee || 0);\n    },\n    getItemCount: () => {\n      const {\n        items\n      } = get();\n      return items.reduce((sum, item) => sum + item.quantity, 0);\n    }\n  }));\n});","lineCount":108,"map":[[7,2,16,0,"Object"],[7,8,16,0],[7,9,16,0,"defineProperty"],[7,23,16,0],[7,24,16,0,"exports"],[7,31,16,0],[8,4,16,0,"enumerable"],[8,14,16,0],[9,4,16,0,"get"],[9,7,16,0],[9,18,16,0,"get"],[9,19,16,0],[10,6,16,0],[10,13,16,0,"useCartStore"],[10,25,16,0],[11,4,16,0],[12,2,16,0],[13,2,1,0],[13,6,1,0,"_zustand"],[13,14,1,0],[13,17,1,0,"require"],[13,24,1,0],[13,25,1,0,"_dependencyMap"],[13,39,1,0],[14,2,16,7],[14,8,16,13,"useCartStore"],[14,20,16,25],[14,23,16,28],[14,27,16,28,"create"],[14,35,16,34],[14,36,16,34,"create"],[14,42,16,34],[14,44,16,46],[14,45,16,47,"set"],[14,48,16,50],[14,50,16,52,"get"],[14,53,16,55],[14,59,16,61],[15,4,17,2,"items"],[15,9,17,7],[15,11,17,9],[15,13,17,11],[16,4,18,2,"restaurant"],[16,14,18,12],[16,16,18,14],[16,20,18,18],[17,4,20,2,"addItem"],[17,11,20,9],[17,13,20,11,"addItem"],[17,14,20,12,"menuItem"],[17,22,20,30],[17,24,20,32,"restaurant"],[17,34,20,54],[17,39,20,59],[18,6,21,4],[18,12,21,10],[19,8,21,12,"items"],[19,13,21,17],[20,8,21,19,"restaurant"],[20,18,21,29],[20,20,21,31,"currentRestaurant"],[21,6,21,49],[21,7,21,50],[21,10,21,53,"get"],[21,13,21,56],[21,14,21,57],[21,15,21,58],[23,6,23,4],[24,6,24,4],[24,10,24,8,"currentRestaurant"],[24,27,24,25],[24,31,24,29,"currentRestaurant"],[24,48,24,46],[24,49,24,47,"id"],[24,51,24,49],[24,56,24,54,"restaurant"],[24,66,24,64],[24,67,24,65,"id"],[24,69,24,67],[24,71,24,69],[25,8,25,6,"set"],[25,11,25,9],[25,12,25,10],[26,10,25,12,"items"],[26,15,25,17],[26,17,25,19],[26,18,25,20],[27,12,25,22,"menuItem"],[27,20,25,30],[28,12,25,32,"quantity"],[28,20,25,40],[28,22,25,42],[29,10,25,44],[29,11,25,45],[29,12,25,46],[30,10,25,48,"restaurant"],[31,8,25,59],[31,9,25,60],[31,10,25,61],[32,8,26,6],[33,6,27,4],[34,6,29,4],[34,12,29,10,"existingItem"],[34,24,29,22],[34,27,29,25,"items"],[34,32,29,30],[34,33,29,31,"find"],[34,37,29,35],[34,38,29,36,"item"],[34,42,29,40],[34,46,29,44,"item"],[34,50,29,48],[34,51,29,49,"menuItem"],[34,59,29,57],[34,60,29,58,"id"],[34,62,29,60],[34,67,29,65,"menuItem"],[34,75,29,73],[34,76,29,74,"id"],[34,78,29,76],[34,79,29,77],[35,6,30,4],[35,10,30,8,"existingItem"],[35,22,30,20],[35,24,30,22],[36,8,31,6,"set"],[36,11,31,9],[36,12,31,10],[37,10,32,8,"items"],[37,15,32,13],[37,17,32,15,"items"],[37,22,32,20],[37,23,32,21,"map"],[37,26,32,24],[37,27,32,25,"item"],[37,31,32,29],[37,35,33,10,"item"],[37,39,33,14],[37,40,33,15,"menuItem"],[37,48,33,23],[37,49,33,24,"id"],[37,51,33,26],[37,56,33,31,"menuItem"],[37,64,33,39],[37,65,33,40,"id"],[37,67,33,42],[37,70,33,42,"Object"],[37,76,33,42],[37,77,33,42,"assign"],[37,83,33,42],[37,88,34,19,"item"],[37,92,34,23],[38,12,34,25,"quantity"],[38,20,34,33],[38,22,34,35,"item"],[38,26,34,39],[38,27,34,40,"quantity"],[38,35,34,48],[38,38,34,51],[39,10,34,52],[39,15,35,14,"item"],[39,19,36,8],[39,20,36,9],[40,10,37,8,"restaurant"],[41,8,38,6],[41,9,38,7],[41,10,38,8],[42,6,39,4],[42,7,39,5],[42,13,39,11],[43,8,40,6,"set"],[43,11,40,9],[43,12,40,10],[44,10,40,12,"items"],[44,15,40,17],[44,17,40,19],[44,18,40,20],[44,21,40,23,"items"],[44,26,40,28],[44,28,40,30],[45,12,40,32,"menuItem"],[45,20,40,40],[46,12,40,42,"quantity"],[46,20,40,50],[46,22,40,52],[47,10,40,54],[47,11,40,55],[47,12,40,56],[48,10,40,58,"restaurant"],[49,8,40,69],[49,9,40,70],[49,10,40,71],[50,6,41,4],[51,4,42,2],[51,5,42,3],[52,4,44,2,"removeItem"],[52,14,44,12],[52,16,44,15,"menuItemId"],[52,26,44,33],[52,30,44,38],[53,6,45,4],[53,12,45,10],[54,8,45,12,"items"],[55,6,45,18],[55,7,45,19],[55,10,45,22,"get"],[55,13,45,25],[55,14,45,26],[55,15,45,27],[56,6,46,4],[56,12,46,10,"newItems"],[56,20,46,18],[56,23,46,21,"items"],[56,28,46,26],[56,29,46,27,"filter"],[56,35,46,33],[56,36,46,34,"item"],[56,40,46,38],[56,44,46,42,"item"],[56,48,46,46],[56,49,46,47,"menuItem"],[56,57,46,55],[56,58,46,56,"id"],[56,60,46,58],[56,65,46,63,"menuItemId"],[56,75,46,73],[56,76,46,74],[57,6,47,4],[57,10,47,8,"newItems"],[57,18,47,16],[57,19,47,17,"length"],[57,25,47,23],[57,30,47,28],[57,31,47,29],[57,33,47,31],[58,8,48,6,"set"],[58,11,48,9],[58,12,48,10],[59,10,48,12,"items"],[59,15,48,17],[59,17,48,19],[59,19,48,21],[60,10,48,23,"restaurant"],[60,20,48,33],[60,22,48,35],[61,8,48,40],[61,9,48,41],[61,10,48,42],[62,6,49,4],[62,7,49,5],[62,13,49,11],[63,8,50,6,"set"],[63,11,50,9],[63,12,50,10],[64,10,50,12,"items"],[64,15,50,17],[64,17,50,19,"newItems"],[65,8,50,28],[65,9,50,29],[65,10,50,30],[66,6,51,4],[67,4,52,2],[67,5,52,3],[68,4,54,2,"updateQuantity"],[68,18,54,16],[68,20,54,18,"updateQuantity"],[68,21,54,19,"menuItemId"],[68,31,54,37],[68,33,54,39,"quantity"],[68,41,54,55],[68,46,54,60],[69,6,55,4],[69,12,55,10],[70,8,55,12,"items"],[71,6,55,18],[71,7,55,19],[71,10,55,22,"get"],[71,13,55,25],[71,14,55,26],[71,15,55,27],[72,6,56,4],[72,10,56,8,"quantity"],[72,18,56,16],[72,22,56,20],[72,23,56,21],[72,25,56,23],[73,8,57,6,"get"],[73,11,57,9],[73,12,57,10],[73,13,57,11],[73,14,57,12,"removeItem"],[73,24,57,22],[73,25,57,23,"menuItemId"],[73,35,57,33],[73,36,57,34],[74,8,58,6],[75,6,59,4],[76,6,60,4,"set"],[76,9,60,7],[76,10,60,8],[77,8,61,6,"items"],[77,13,61,11],[77,15,61,13,"items"],[77,20,61,18],[77,21,61,19,"map"],[77,24,61,22],[77,25,61,23,"item"],[77,29,61,27],[77,33,62,8,"item"],[77,37,62,12],[77,38,62,13,"menuItem"],[77,46,62,21],[77,47,62,22,"id"],[77,49,62,24],[77,54,62,29,"menuItemId"],[77,64,62,39],[77,67,62,39,"Object"],[77,73,62,39],[77,74,62,39,"assign"],[77,80,62,39],[77,85,63,17,"item"],[77,89,63,21],[78,10,63,23,"quantity"],[79,8,63,31],[79,13,64,12,"item"],[79,17,65,6],[80,6,66,4],[80,7,66,5],[80,8,66,6],[81,4,67,2],[81,5,67,3],[82,4,69,2,"clearCart"],[82,13,69,11],[82,15,69,13,"clearCart"],[82,16,69,13],[82,21,69,19],[83,6,70,4,"set"],[83,9,70,7],[83,10,70,8],[84,8,70,10,"items"],[84,13,70,15],[84,15,70,17],[84,17,70,19],[85,8,70,21,"restaurant"],[85,18,70,31],[85,20,70,33],[86,6,70,38],[86,7,70,39],[86,8,70,40],[87,4,71,2],[87,5,71,3],[88,4,73,2,"getSubtotal"],[88,15,73,13],[88,17,73,15,"getSubtotal"],[88,18,73,15],[88,23,73,21],[89,6,74,4],[89,12,74,10],[90,8,74,12,"items"],[91,6,74,18],[91,7,74,19],[91,10,74,22,"get"],[91,13,74,25],[91,14,74,26],[91,15,74,27],[92,6,75,4],[92,13,75,11,"items"],[92,18,75,16],[92,19,75,17,"reduce"],[92,25,75,23],[92,26,75,24],[92,27,75,25,"sum"],[92,30,75,28],[92,32,75,30,"item"],[92,36,75,34],[92,41,75,39,"sum"],[92,44,75,42],[92,47,75,45,"item"],[92,51,75,49],[92,52,75,50,"menuItem"],[92,60,75,58],[92,61,75,59,"price"],[92,66,75,64],[92,69,75,67,"item"],[92,73,75,71],[92,74,75,72,"quantity"],[92,82,75,80],[92,84,75,82],[92,85,75,83],[92,86,75,84],[93,4,76,2],[93,5,76,3],[94,4,78,2,"getTotal"],[94,12,78,10],[94,14,78,12,"getTotal"],[94,15,78,12],[94,20,78,18],[95,6,79,4],[95,12,79,10],[96,8,79,12,"restaurant"],[97,6,79,23],[97,7,79,24],[97,10,79,27,"get"],[97,13,79,30],[97,14,79,31],[97,15,79,32],[98,6,80,4],[98,12,80,10,"subtotal"],[98,20,80,18],[98,23,80,21,"get"],[98,26,80,24],[98,27,80,25],[98,28,80,26],[98,29,80,27,"getSubtotal"],[98,40,80,38],[98,41,80,39],[98,42,80,40],[99,6,81,4],[99,13,81,11,"subtotal"],[99,21,81,19],[99,25,81,23,"restaurant"],[99,35,81,33],[99,37,81,35,"delivery_fee"],[99,49,81,47],[99,53,81,51],[99,54,81,52],[99,55,81,53],[100,4,82,2],[100,5,82,3],[101,4,84,2,"getItemCount"],[101,16,84,14],[101,18,84,16,"getItemCount"],[101,19,84,16],[101,24,84,22],[102,6,85,4],[102,12,85,10],[103,8,85,12,"items"],[104,6,85,18],[104,7,85,19],[104,10,85,22,"get"],[104,13,85,25],[104,14,85,26],[104,15,85,27],[105,6,86,4],[105,13,86,11,"items"],[105,18,86,16],[105,19,86,17,"reduce"],[105,25,86,23],[105,26,86,24],[105,27,86,25,"sum"],[105,30,86,28],[105,32,86,30,"item"],[105,36,86,34],[105,41,86,39,"sum"],[105,44,86,42],[105,47,86,45,"item"],[105,51,86,49],[105,52,86,50,"quantity"],[105,60,86,58],[105,62,86,60],[105,63,86,61],[105,64,86,62],[106,4,87,2],[107,2,88,0],[107,3,88,1],[107,4,88,2],[107,5,88,3],[108,0,88,4],[108,3]],"functionMap":{"names":["<global>","create$argument_0","addItem","items.find$argument_0","items.map$argument_0","removeItem","items.filter$argument_0","updateQuantity","clearCart","getSubtotal","items.reduce$argument_0","getTotal","getItemCount"],"mappings":"AAA;8CCe;WCI;oCCS,wCD;yBEG;kBFG;GDO;cIE;kCCE,uCD;GJM;kBME;uBHO;gBGG;GNG;aOE;GPE;eQE;wBCE,wDD;GRC;YUE;GVI;gBWE;wBFE,kCE;GXC;EDC"},"hasCjsExports":false},"type":"js/module"}]}