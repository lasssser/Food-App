{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useCartStore\", {\n    enumerable: true,\n    get: function () {\n      return useCartStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  // Generate unique key for cart items based on menu item ID and add-ons\n  const generateItemKey = (menuItemId, selectedAddOns) => {\n    if (!selectedAddOns || selectedAddOns.length === 0) {\n      return menuItemId;\n    }\n    const addOnKey = selectedAddOns.map(a => `${a.group_name}:${a.option_name}`).sort().join('|');\n    return `${menuItemId}_${addOnKey}`;\n  };\n\n  // Calculate item total including add-ons\n  const calculateItemTotal = item => {\n    const addOnsTotal = item.selectedAddOns?.reduce((sum, addon) => sum + addon.price, 0) || 0;\n    return (item.menuItem.price + addOnsTotal) * item.quantity;\n  };\n  const useCartStore = (0, _zustand.create)((set, get) => ({\n    items: [],\n    restaurant: null,\n    addItem: (menuItem, restaurant, selectedAddOns) => {\n      const {\n        items,\n        restaurant: currentRestaurant\n      } = get();\n      const itemKey = generateItemKey(menuItem.id, selectedAddOns);\n\n      // If cart has items from different restaurant, clear it\n      if (currentRestaurant && currentRestaurant.id !== restaurant.id) {\n        set({\n          items: [{\n            menuItem,\n            quantity: 1,\n            selectedAddOns,\n            itemKey\n          }],\n          restaurant\n        });\n        return;\n      }\n      const existingItem = items.find(item => item.itemKey === itemKey);\n      if (existingItem) {\n        set({\n          items: items.map(item => item.itemKey === itemKey ? {\n            ...item,\n            quantity: item.quantity + 1\n          } : item),\n          restaurant\n        });\n      } else {\n        set({\n          items: [...items, {\n            menuItem,\n            quantity: 1,\n            selectedAddOns,\n            itemKey\n          }],\n          restaurant\n        });\n      }\n    },\n    removeItem: itemKey => {\n      const {\n        items\n      } = get();\n      const newItems = items.filter(item => item.itemKey !== itemKey);\n      if (newItems.length === 0) {\n        set({\n          items: [],\n          restaurant: null\n        });\n      } else {\n        set({\n          items: newItems\n        });\n      }\n    },\n    updateQuantity: (itemKey, quantity) => {\n      const {\n        items\n      } = get();\n      if (quantity <= 0) {\n        get().removeItem(itemKey);\n        return;\n      }\n      set({\n        items: items.map(item => item.itemKey === itemKey ? {\n          ...item,\n          quantity\n        } : item)\n      });\n    },\n    clearCart: () => {\n      set({\n        items: [],\n        restaurant: null\n      });\n    },\n    getSubtotal: () => {\n      const {\n        items\n      } = get();\n      return items.reduce((sum, item) => sum + calculateItemTotal(item), 0);\n    },\n    getTotal: () => {\n      const {\n        restaurant\n      } = get();\n      const subtotal = get().getSubtotal();\n      return subtotal + (restaurant?.delivery_fee || 0);\n    },\n    getItemCount: () => {\n      const {\n        items\n      } = get();\n      return items.reduce((sum, item) => sum + item.quantity, 0);\n    }\n  }));\n});","lineCount":129,"map":[[7,2,34,0,"Object"],[7,8,34,0],[7,9,34,0,"defineProperty"],[7,23,34,0],[7,24,34,0,"exports"],[7,31,34,0],[8,4,34,0,"enumerable"],[8,14,34,0],[9,4,34,0,"get"],[9,7,34,0],[9,18,34,0,"get"],[9,19,34,0],[10,6,34,0],[10,13,34,0,"useCartStore"],[10,25,34,0],[11,4,34,0],[12,2,34,0],[13,2,1,0],[13,6,1,0,"_zustand"],[13,14,1,0],[13,17,1,0,"require"],[13,24,1,0],[13,25,1,0,"_dependencyMap"],[13,39,1,0],[14,2,16,0],[15,2,17,0],[15,8,17,6,"generateItemKey"],[15,23,17,21],[15,26,17,24,"generateItemKey"],[15,27,17,25,"menuItemId"],[15,37,17,43],[15,39,17,45,"selectedAddOns"],[15,53,17,77],[15,58,17,90],[16,4,18,2],[16,8,18,6],[16,9,18,7,"selectedAddOns"],[16,23,18,21],[16,27,18,25,"selectedAddOns"],[16,41,18,39],[16,42,18,40,"length"],[16,48,18,46],[16,53,18,51],[16,54,18,52],[16,56,18,54],[17,6,19,4],[17,13,19,11,"menuItemId"],[17,23,19,21],[18,4,20,2],[19,4,21,2],[19,10,21,8,"addOnKey"],[19,18,21,16],[19,21,21,19,"selectedAddOns"],[19,35,21,33],[19,36,22,5,"map"],[19,39,22,8],[19,40,22,9,"a"],[19,41,22,10],[19,45,22,14],[19,48,22,17,"a"],[19,49,22,18],[19,50,22,19,"group_name"],[19,60,22,29],[19,64,22,33,"a"],[19,65,22,34],[19,66,22,35,"option_name"],[19,77,22,46],[19,79,22,48],[19,80,22,49],[19,81,23,5,"sort"],[19,85,23,9],[19,86,23,10],[19,87,23,11],[19,88,24,5,"join"],[19,92,24,9],[19,93,24,10],[19,96,24,13],[19,97,24,14],[20,4,25,2],[20,11,25,9],[20,14,25,12,"menuItemId"],[20,24,25,22],[20,28,25,26,"addOnKey"],[20,36,25,34],[20,38,25,36],[21,2,26,0],[21,3,26,1],[23,2,28,0],[24,2,29,0],[24,8,29,6,"calculateItemTotal"],[24,26,29,24],[24,29,29,28,"item"],[24,33,29,42],[24,37,29,55],[25,4,30,2],[25,10,30,8,"addOnsTotal"],[25,21,30,19],[25,24,30,22,"item"],[25,28,30,26],[25,29,30,27,"selectedAddOns"],[25,43,30,41],[25,45,30,43,"reduce"],[25,51,30,49],[25,52,30,50],[25,53,30,51,"sum"],[25,56,30,54],[25,58,30,56,"addon"],[25,63,30,61],[25,68,30,66,"sum"],[25,71,30,69],[25,74,30,72,"addon"],[25,79,30,77],[25,80,30,78,"price"],[25,85,30,83],[25,87,30,85],[25,88,30,86],[25,89,30,87],[25,93,30,91],[25,94,30,92],[26,4,31,2],[26,11,31,9],[26,12,31,10,"item"],[26,16,31,14],[26,17,31,15,"menuItem"],[26,25,31,23],[26,26,31,24,"price"],[26,31,31,29],[26,34,31,32,"addOnsTotal"],[26,45,31,43],[26,49,31,47,"item"],[26,53,31,51],[26,54,31,52,"quantity"],[26,62,31,60],[27,2,32,0],[27,3,32,1],[28,2,34,7],[28,8,34,13,"useCartStore"],[28,20,34,25],[28,23,34,28],[28,27,34,28,"create"],[28,35,34,34],[28,36,34,34,"create"],[28,42,34,34],[28,44,34,46],[28,45,34,47,"set"],[28,48,34,50],[28,50,34,52,"get"],[28,53,34,55],[28,59,34,61],[29,4,35,2,"items"],[29,9,35,7],[29,11,35,9],[29,13,35,11],[30,4,36,2,"restaurant"],[30,14,36,12],[30,16,36,14],[30,20,36,18],[31,4,38,2,"addItem"],[31,11,38,9],[31,13,38,11,"addItem"],[31,14,38,12,"menuItem"],[31,22,38,30],[31,24,38,32,"restaurant"],[31,34,38,54],[31,36,38,56,"selectedAddOns"],[31,50,38,88],[31,55,38,93],[32,6,39,4],[32,12,39,10],[33,8,39,12,"items"],[33,13,39,17],[34,8,39,19,"restaurant"],[34,18,39,29],[34,20,39,31,"currentRestaurant"],[35,6,39,49],[35,7,39,50],[35,10,39,53,"get"],[35,13,39,56],[35,14,39,57],[35,15,39,58],[36,6,40,4],[36,12,40,10,"itemKey"],[36,19,40,17],[36,22,40,20,"generateItemKey"],[36,37,40,35],[36,38,40,36,"menuItem"],[36,46,40,44],[36,47,40,45,"id"],[36,49,40,47],[36,51,40,49,"selectedAddOns"],[36,65,40,63],[36,66,40,64],[38,6,42,4],[39,6,43,4],[39,10,43,8,"currentRestaurant"],[39,27,43,25],[39,31,43,29,"currentRestaurant"],[39,48,43,46],[39,49,43,47,"id"],[39,51,43,49],[39,56,43,54,"restaurant"],[39,66,43,64],[39,67,43,65,"id"],[39,69,43,67],[39,71,43,69],[40,8,44,6,"set"],[40,11,44,9],[40,12,44,10],[41,10,45,8,"items"],[41,15,45,13],[41,17,45,15],[41,18,45,16],[42,12,45,18,"menuItem"],[42,20,45,26],[43,12,45,28,"quantity"],[43,20,45,36],[43,22,45,38],[43,23,45,39],[44,12,45,41,"selectedAddOns"],[44,26,45,55],[45,12,45,57,"itemKey"],[46,10,45,65],[46,11,45,66],[46,12,45,67],[47,10,46,8,"restaurant"],[48,8,47,6],[48,9,47,7],[48,10,47,8],[49,8,48,6],[50,6,49,4],[51,6,51,4],[51,12,51,10,"existingItem"],[51,24,51,22],[51,27,51,25,"items"],[51,32,51,30],[51,33,51,31,"find"],[51,37,51,35],[51,38,51,36,"item"],[51,42,51,40],[51,46,51,44,"item"],[51,50,51,48],[51,51,51,49,"itemKey"],[51,58,51,56],[51,63,51,61,"itemKey"],[51,70,51,68],[51,71,51,69],[52,6,52,4],[52,10,52,8,"existingItem"],[52,22,52,20],[52,24,52,22],[53,8,53,6,"set"],[53,11,53,9],[53,12,53,10],[54,10,54,8,"items"],[54,15,54,13],[54,17,54,15,"items"],[54,22,54,20],[54,23,54,21,"map"],[54,26,54,24],[54,27,54,25,"item"],[54,31,54,29],[54,35,55,10,"item"],[54,39,55,14],[54,40,55,15,"itemKey"],[54,47,55,22],[54,52,55,27,"itemKey"],[54,59,55,34],[54,62,56,14],[55,12,56,16],[55,15,56,19,"item"],[55,19,56,23],[56,12,56,25,"quantity"],[56,20,56,33],[56,22,56,35,"item"],[56,26,56,39],[56,27,56,40,"quantity"],[56,35,56,48],[56,38,56,51],[57,10,56,53],[57,11,56,54],[57,14,57,14,"item"],[57,18,58,8],[57,19,58,9],[58,10,59,8,"restaurant"],[59,8,60,6],[59,9,60,7],[59,10,60,8],[60,6,61,4],[60,7,61,5],[60,13,61,11],[61,8,62,6,"set"],[61,11,62,9],[61,12,62,10],[62,10,63,8,"items"],[62,15,63,13],[62,17,63,15],[62,18,63,16],[62,21,63,19,"items"],[62,26,63,24],[62,28,63,26],[63,12,63,28,"menuItem"],[63,20,63,36],[64,12,63,38,"quantity"],[64,20,63,46],[64,22,63,48],[64,23,63,49],[65,12,63,51,"selectedAddOns"],[65,26,63,65],[66,12,63,67,"itemKey"],[67,10,63,75],[67,11,63,76],[67,12,63,77],[68,10,64,8,"restaurant"],[69,8,65,6],[69,9,65,7],[69,10,65,8],[70,6,66,4],[71,4,67,2],[71,5,67,3],[72,4,69,2,"removeItem"],[72,14,69,12],[72,16,69,15,"itemKey"],[72,23,69,30],[72,27,69,35],[73,6,70,4],[73,12,70,10],[74,8,70,12,"items"],[75,6,70,18],[75,7,70,19],[75,10,70,22,"get"],[75,13,70,25],[75,14,70,26],[75,15,70,27],[76,6,71,4],[76,12,71,10,"newItems"],[76,20,71,18],[76,23,71,21,"items"],[76,28,71,26],[76,29,71,27,"filter"],[76,35,71,33],[76,36,71,34,"item"],[76,40,71,38],[76,44,71,42,"item"],[76,48,71,46],[76,49,71,47,"itemKey"],[76,56,71,54],[76,61,71,59,"itemKey"],[76,68,71,66],[76,69,71,67],[77,6,72,4],[77,10,72,8,"newItems"],[77,18,72,16],[77,19,72,17,"length"],[77,25,72,23],[77,30,72,28],[77,31,72,29],[77,33,72,31],[78,8,73,6,"set"],[78,11,73,9],[78,12,73,10],[79,10,73,12,"items"],[79,15,73,17],[79,17,73,19],[79,19,73,21],[80,10,73,23,"restaurant"],[80,20,73,33],[80,22,73,35],[81,8,73,40],[81,9,73,41],[81,10,73,42],[82,6,74,4],[82,7,74,5],[82,13,74,11],[83,8,75,6,"set"],[83,11,75,9],[83,12,75,10],[84,10,75,12,"items"],[84,15,75,17],[84,17,75,19,"newItems"],[85,8,75,28],[85,9,75,29],[85,10,75,30],[86,6,76,4],[87,4,77,2],[87,5,77,3],[88,4,79,2,"updateQuantity"],[88,18,79,16],[88,20,79,18,"updateQuantity"],[88,21,79,19,"itemKey"],[88,28,79,34],[88,30,79,36,"quantity"],[88,38,79,52],[88,43,79,57],[89,6,80,4],[89,12,80,10],[90,8,80,12,"items"],[91,6,80,18],[91,7,80,19],[91,10,80,22,"get"],[91,13,80,25],[91,14,80,26],[91,15,80,27],[92,6,81,4],[92,10,81,8,"quantity"],[92,18,81,16],[92,22,81,20],[92,23,81,21],[92,25,81,23],[93,8,82,6,"get"],[93,11,82,9],[93,12,82,10],[93,13,82,11],[93,14,82,12,"removeItem"],[93,24,82,22],[93,25,82,23,"itemKey"],[93,32,82,30],[93,33,82,31],[94,8,83,6],[95,6,84,4],[96,6,85,4,"set"],[96,9,85,7],[96,10,85,8],[97,8,86,6,"items"],[97,13,86,11],[97,15,86,13,"items"],[97,20,86,18],[97,21,86,19,"map"],[97,24,86,22],[97,25,86,23,"item"],[97,29,86,27],[97,33,87,8,"item"],[97,37,87,12],[97,38,87,13,"itemKey"],[97,45,87,20],[97,50,87,25,"itemKey"],[97,57,87,32],[97,60,88,12],[98,10,88,14],[98,13,88,17,"item"],[98,17,88,21],[99,10,88,23,"quantity"],[100,8,88,32],[100,9,88,33],[100,12,89,12,"item"],[100,16,90,6],[101,6,91,4],[101,7,91,5],[101,8,91,6],[102,4,92,2],[102,5,92,3],[103,4,94,2,"clearCart"],[103,13,94,11],[103,15,94,13,"clearCart"],[103,16,94,13],[103,21,94,19],[104,6,95,4,"set"],[104,9,95,7],[104,10,95,8],[105,8,95,10,"items"],[105,13,95,15],[105,15,95,17],[105,17,95,19],[106,8,95,21,"restaurant"],[106,18,95,31],[106,20,95,33],[107,6,95,38],[107,7,95,39],[107,8,95,40],[108,4,96,2],[108,5,96,3],[109,4,98,2,"getSubtotal"],[109,15,98,13],[109,17,98,15,"getSubtotal"],[109,18,98,15],[109,23,98,21],[110,6,99,4],[110,12,99,10],[111,8,99,12,"items"],[112,6,99,18],[112,7,99,19],[112,10,99,22,"get"],[112,13,99,25],[112,14,99,26],[112,15,99,27],[113,6,100,4],[113,13,100,11,"items"],[113,18,100,16],[113,19,100,17,"reduce"],[113,25,100,23],[113,26,100,24],[113,27,100,25,"sum"],[113,30,100,28],[113,32,100,30,"item"],[113,36,100,34],[113,41,100,39,"sum"],[113,44,100,42],[113,47,100,45,"calculateItemTotal"],[113,65,100,63],[113,66,100,64,"item"],[113,70,100,68],[113,71,100,69],[113,73,100,71],[113,74,100,72],[113,75,100,73],[114,4,101,2],[114,5,101,3],[115,4,103,2,"getTotal"],[115,12,103,10],[115,14,103,12,"getTotal"],[115,15,103,12],[115,20,103,18],[116,6,104,4],[116,12,104,10],[117,8,104,12,"restaurant"],[118,6,104,23],[118,7,104,24],[118,10,104,27,"get"],[118,13,104,30],[118,14,104,31],[118,15,104,32],[119,6,105,4],[119,12,105,10,"subtotal"],[119,20,105,18],[119,23,105,21,"get"],[119,26,105,24],[119,27,105,25],[119,28,105,26],[119,29,105,27,"getSubtotal"],[119,40,105,38],[119,41,105,39],[119,42,105,40],[120,6,106,4],[120,13,106,11,"subtotal"],[120,21,106,19],[120,25,106,23,"restaurant"],[120,35,106,33],[120,37,106,35,"delivery_fee"],[120,49,106,47],[120,53,106,51],[120,54,106,52],[120,55,106,53],[121,4,107,2],[121,5,107,3],[122,4,109,2,"getItemCount"],[122,16,109,14],[122,18,109,16,"getItemCount"],[122,19,109,16],[122,24,109,22],[123,6,110,4],[123,12,110,10],[124,8,110,12,"items"],[125,6,110,18],[125,7,110,19],[125,10,110,22,"get"],[125,13,110,25],[125,14,110,26],[125,15,110,27],[126,6,111,4],[126,13,111,11,"items"],[126,18,111,16],[126,19,111,17,"reduce"],[126,25,111,23],[126,26,111,24],[126,27,111,25,"sum"],[126,30,111,28],[126,32,111,30,"item"],[126,36,111,34],[126,41,111,39,"sum"],[126,44,111,42],[126,47,111,45,"item"],[126,51,111,49],[126,52,111,50,"quantity"],[126,60,111,58],[126,62,111,60],[126,63,111,61],[126,64,111,62],[127,4,112,2],[128,2,113,0],[128,3,113,1],[128,4,113,2],[128,5,113,3],[129,0,113,4],[129,3]],"functionMap":{"names":["<global>","generateItemKey","selectedAddOns.map$argument_0","calculateItemTotal","item.selectedAddOns.reduce$argument_0","create$argument_0","addItem","items.find$argument_0","items.map$argument_0","removeItem","items.filter$argument_0","updateQuantity","clearCart","getSubtotal","items.reduce$argument_0","getTotal","getItemCount"],"mappings":"AAA;wBCgB;SCK,uCD;CDI;2BGG;kDCC,iCD;CHE;8CKE;WCI;oCCa,gCD;yBEG;kBFG;GDU;cIE;kCCE,gCD;GJM;kBME;uBHO;gBGG;GNG;aOE;GPE;eQE;wBCE,6CD;GRC;YUE;GVI;gBWE;wBFE,kCE;GXC;ELC"},"hasCjsExports":false},"type":"js/module"}]}