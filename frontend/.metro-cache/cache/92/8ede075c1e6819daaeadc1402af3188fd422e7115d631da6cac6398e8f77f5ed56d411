{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useCartStore\", {\n    enumerable: true,\n    get: function () {\n      return useCartStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  const useCartStore = (0, _zustand.create)((set, get) => ({\n    items: [],\n    restaurant: null,\n    addItem: (menuItem, restaurant) => {\n      const {\n        items,\n        restaurant: currentRestaurant\n      } = get();\n\n      // If cart has items from different restaurant, clear it\n      if (currentRestaurant && currentRestaurant.id !== restaurant.id) {\n        set({\n          items: [{\n            menuItem,\n            quantity: 1\n          }],\n          restaurant\n        });\n        return;\n      }\n      const existingItem = items.find(item => item.menuItem.id === menuItem.id);\n      if (existingItem) {\n        set({\n          items: items.map(item => item.menuItem.id === menuItem.id ? {\n            ...item,\n            quantity: item.quantity + 1\n          } : item),\n          restaurant\n        });\n      } else {\n        set({\n          items: [...items, {\n            menuItem,\n            quantity: 1\n          }],\n          restaurant\n        });\n      }\n    },\n    removeItem: menuItemId => {\n      const {\n        items\n      } = get();\n      const newItems = items.filter(item => item.menuItem.id !== menuItemId);\n      if (newItems.length === 0) {\n        set({\n          items: [],\n          restaurant: null\n        });\n      } else {\n        set({\n          items: newItems\n        });\n      }\n    },\n    updateQuantity: (menuItemId, quantity) => {\n      const {\n        items\n      } = get();\n      if (quantity <= 0) {\n        get().removeItem(menuItemId);\n        return;\n      }\n      set({\n        items: items.map(item => item.menuItem.id === menuItemId ? {\n          ...item,\n          quantity\n        } : item)\n      });\n    },\n    clearCart: () => {\n      set({\n        items: [],\n        restaurant: null\n      });\n    },\n    getSubtotal: () => {\n      const {\n        items\n      } = get();\n      return items.reduce((sum, item) => sum + item.menuItem.price * item.quantity, 0);\n    },\n    getTotal: () => {\n      const {\n        restaurant\n      } = get();\n      const subtotal = get().getSubtotal();\n      return subtotal + (restaurant?.delivery_fee || 0);\n    },\n    getItemCount: () => {\n      const {\n        items\n      } = get();\n      return items.reduce((sum, item) => sum + item.quantity, 0);\n    }\n  }));\n});","lineCount":110,"map":[[7,2,16,0,"Object"],[7,8,16,0],[7,9,16,0,"defineProperty"],[7,23,16,0],[7,24,16,0,"exports"],[7,31,16,0],[8,4,16,0,"enumerable"],[8,14,16,0],[9,4,16,0,"get"],[9,7,16,0],[9,18,16,0,"get"],[9,19,16,0],[10,6,16,0],[10,13,16,0,"useCartStore"],[10,25,16,0],[11,4,16,0],[12,2,16,0],[13,2,1,0],[13,6,1,0,"_zustand"],[13,14,1,0],[13,17,1,0,"require"],[13,24,1,0],[13,25,1,0,"_dependencyMap"],[13,39,1,0],[14,2,16,7],[14,8,16,13,"useCartStore"],[14,20,16,25],[14,23,16,28],[14,27,16,28,"create"],[14,35,16,34],[14,36,16,34,"create"],[14,42,16,34],[14,44,16,46],[14,45,16,47,"set"],[14,48,16,50],[14,50,16,52,"get"],[14,53,16,55],[14,59,16,61],[15,4,17,2,"items"],[15,9,17,7],[15,11,17,9],[15,13,17,11],[16,4,18,2,"restaurant"],[16,14,18,12],[16,16,18,14],[16,20,18,18],[17,4,20,2,"addItem"],[17,11,20,9],[17,13,20,11,"addItem"],[17,14,20,12,"menuItem"],[17,22,20,30],[17,24,20,32,"restaurant"],[17,34,20,54],[17,39,20,59],[18,6,21,4],[18,12,21,10],[19,8,21,12,"items"],[19,13,21,17],[20,8,21,19,"restaurant"],[20,18,21,29],[20,20,21,31,"currentRestaurant"],[21,6,21,49],[21,7,21,50],[21,10,21,53,"get"],[21,13,21,56],[21,14,21,57],[21,15,21,58],[23,6,23,4],[24,6,24,4],[24,10,24,8,"currentRestaurant"],[24,27,24,25],[24,31,24,29,"currentRestaurant"],[24,48,24,46],[24,49,24,47,"id"],[24,51,24,49],[24,56,24,54,"restaurant"],[24,66,24,64],[24,67,24,65,"id"],[24,69,24,67],[24,71,24,69],[25,8,25,6,"set"],[25,11,25,9],[25,12,25,10],[26,10,25,12,"items"],[26,15,25,17],[26,17,25,19],[26,18,25,20],[27,12,25,22,"menuItem"],[27,20,25,30],[28,12,25,32,"quantity"],[28,20,25,40],[28,22,25,42],[29,10,25,44],[29,11,25,45],[29,12,25,46],[30,10,25,48,"restaurant"],[31,8,25,59],[31,9,25,60],[31,10,25,61],[32,8,26,6],[33,6,27,4],[34,6,29,4],[34,12,29,10,"existingItem"],[34,24,29,22],[34,27,29,25,"items"],[34,32,29,30],[34,33,29,31,"find"],[34,37,29,35],[34,38,29,36,"item"],[34,42,29,40],[34,46,29,44,"item"],[34,50,29,48],[34,51,29,49,"menuItem"],[34,59,29,57],[34,60,29,58,"id"],[34,62,29,60],[34,67,29,65,"menuItem"],[34,75,29,73],[34,76,29,74,"id"],[34,78,29,76],[34,79,29,77],[35,6,30,4],[35,10,30,8,"existingItem"],[35,22,30,20],[35,24,30,22],[36,8,31,6,"set"],[36,11,31,9],[36,12,31,10],[37,10,32,8,"items"],[37,15,32,13],[37,17,32,15,"items"],[37,22,32,20],[37,23,32,21,"map"],[37,26,32,24],[37,27,32,25,"item"],[37,31,32,29],[37,35,33,10,"item"],[37,39,33,14],[37,40,33,15,"menuItem"],[37,48,33,23],[37,49,33,24,"id"],[37,51,33,26],[37,56,33,31,"menuItem"],[37,64,33,39],[37,65,33,40,"id"],[37,67,33,42],[37,70,34,14],[38,12,34,16],[38,15,34,19,"item"],[38,19,34,23],[39,12,34,25,"quantity"],[39,20,34,33],[39,22,34,35,"item"],[39,26,34,39],[39,27,34,40,"quantity"],[39,35,34,48],[39,38,34,51],[40,10,34,53],[40,11,34,54],[40,14,35,14,"item"],[40,18,36,8],[40,19,36,9],[41,10,37,8,"restaurant"],[42,8,38,6],[42,9,38,7],[42,10,38,8],[43,6,39,4],[43,7,39,5],[43,13,39,11],[44,8,40,6,"set"],[44,11,40,9],[44,12,40,10],[45,10,40,12,"items"],[45,15,40,17],[45,17,40,19],[45,18,40,20],[45,21,40,23,"items"],[45,26,40,28],[45,28,40,30],[46,12,40,32,"menuItem"],[46,20,40,40],[47,12,40,42,"quantity"],[47,20,40,50],[47,22,40,52],[48,10,40,54],[48,11,40,55],[48,12,40,56],[49,10,40,58,"restaurant"],[50,8,40,69],[50,9,40,70],[50,10,40,71],[51,6,41,4],[52,4,42,2],[52,5,42,3],[53,4,44,2,"removeItem"],[53,14,44,12],[53,16,44,15,"menuItemId"],[53,26,44,33],[53,30,44,38],[54,6,45,4],[54,12,45,10],[55,8,45,12,"items"],[56,6,45,18],[56,7,45,19],[56,10,45,22,"get"],[56,13,45,25],[56,14,45,26],[56,15,45,27],[57,6,46,4],[57,12,46,10,"newItems"],[57,20,46,18],[57,23,46,21,"items"],[57,28,46,26],[57,29,46,27,"filter"],[57,35,46,33],[57,36,46,34,"item"],[57,40,46,38],[57,44,46,42,"item"],[57,48,46,46],[57,49,46,47,"menuItem"],[57,57,46,55],[57,58,46,56,"id"],[57,60,46,58],[57,65,46,63,"menuItemId"],[57,75,46,73],[57,76,46,74],[58,6,47,4],[58,10,47,8,"newItems"],[58,18,47,16],[58,19,47,17,"length"],[58,25,47,23],[58,30,47,28],[58,31,47,29],[58,33,47,31],[59,8,48,6,"set"],[59,11,48,9],[59,12,48,10],[60,10,48,12,"items"],[60,15,48,17],[60,17,48,19],[60,19,48,21],[61,10,48,23,"restaurant"],[61,20,48,33],[61,22,48,35],[62,8,48,40],[62,9,48,41],[62,10,48,42],[63,6,49,4],[63,7,49,5],[63,13,49,11],[64,8,50,6,"set"],[64,11,50,9],[64,12,50,10],[65,10,50,12,"items"],[65,15,50,17],[65,17,50,19,"newItems"],[66,8,50,28],[66,9,50,29],[66,10,50,30],[67,6,51,4],[68,4,52,2],[68,5,52,3],[69,4,54,2,"updateQuantity"],[69,18,54,16],[69,20,54,18,"updateQuantity"],[69,21,54,19,"menuItemId"],[69,31,54,37],[69,33,54,39,"quantity"],[69,41,54,55],[69,46,54,60],[70,6,55,4],[70,12,55,10],[71,8,55,12,"items"],[72,6,55,18],[72,7,55,19],[72,10,55,22,"get"],[72,13,55,25],[72,14,55,26],[72,15,55,27],[73,6,56,4],[73,10,56,8,"quantity"],[73,18,56,16],[73,22,56,20],[73,23,56,21],[73,25,56,23],[74,8,57,6,"get"],[74,11,57,9],[74,12,57,10],[74,13,57,11],[74,14,57,12,"removeItem"],[74,24,57,22],[74,25,57,23,"menuItemId"],[74,35,57,33],[74,36,57,34],[75,8,58,6],[76,6,59,4],[77,6,60,4,"set"],[77,9,60,7],[77,10,60,8],[78,8,61,6,"items"],[78,13,61,11],[78,15,61,13,"items"],[78,20,61,18],[78,21,61,19,"map"],[78,24,61,22],[78,25,61,23,"item"],[78,29,61,27],[78,33,62,8,"item"],[78,37,62,12],[78,38,62,13,"menuItem"],[78,46,62,21],[78,47,62,22,"id"],[78,49,62,24],[78,54,62,29,"menuItemId"],[78,64,62,39],[78,67,63,12],[79,10,63,14],[79,13,63,17,"item"],[79,17,63,21],[80,10,63,23,"quantity"],[81,8,63,32],[81,9,63,33],[81,12,64,12,"item"],[81,16,65,6],[82,6,66,4],[82,7,66,5],[82,8,66,6],[83,4,67,2],[83,5,67,3],[84,4,69,2,"clearCart"],[84,13,69,11],[84,15,69,13,"clearCart"],[84,16,69,13],[84,21,69,19],[85,6,70,4,"set"],[85,9,70,7],[85,10,70,8],[86,8,70,10,"items"],[86,13,70,15],[86,15,70,17],[86,17,70,19],[87,8,70,21,"restaurant"],[87,18,70,31],[87,20,70,33],[88,6,70,38],[88,7,70,39],[88,8,70,40],[89,4,71,2],[89,5,71,3],[90,4,73,2,"getSubtotal"],[90,15,73,13],[90,17,73,15,"getSubtotal"],[90,18,73,15],[90,23,73,21],[91,6,74,4],[91,12,74,10],[92,8,74,12,"items"],[93,6,74,18],[93,7,74,19],[93,10,74,22,"get"],[93,13,74,25],[93,14,74,26],[93,15,74,27],[94,6,75,4],[94,13,75,11,"items"],[94,18,75,16],[94,19,75,17,"reduce"],[94,25,75,23],[94,26,75,24],[94,27,75,25,"sum"],[94,30,75,28],[94,32,75,30,"item"],[94,36,75,34],[94,41,75,39,"sum"],[94,44,75,42],[94,47,75,45,"item"],[94,51,75,49],[94,52,75,50,"menuItem"],[94,60,75,58],[94,61,75,59,"price"],[94,66,75,64],[94,69,75,67,"item"],[94,73,75,71],[94,74,75,72,"quantity"],[94,82,75,80],[94,84,75,82],[94,85,75,83],[94,86,75,84],[95,4,76,2],[95,5,76,3],[96,4,78,2,"getTotal"],[96,12,78,10],[96,14,78,12,"getTotal"],[96,15,78,12],[96,20,78,18],[97,6,79,4],[97,12,79,10],[98,8,79,12,"restaurant"],[99,6,79,23],[99,7,79,24],[99,10,79,27,"get"],[99,13,79,30],[99,14,79,31],[99,15,79,32],[100,6,80,4],[100,12,80,10,"subtotal"],[100,20,80,18],[100,23,80,21,"get"],[100,26,80,24],[100,27,80,25],[100,28,80,26],[100,29,80,27,"getSubtotal"],[100,40,80,38],[100,41,80,39],[100,42,80,40],[101,6,81,4],[101,13,81,11,"subtotal"],[101,21,81,19],[101,25,81,23,"restaurant"],[101,35,81,33],[101,37,81,35,"delivery_fee"],[101,49,81,47],[101,53,81,51],[101,54,81,52],[101,55,81,53],[102,4,82,2],[102,5,82,3],[103,4,84,2,"getItemCount"],[103,16,84,14],[103,18,84,16,"getItemCount"],[103,19,84,16],[103,24,84,22],[104,6,85,4],[104,12,85,10],[105,8,85,12,"items"],[106,6,85,18],[106,7,85,19],[106,10,85,22,"get"],[106,13,85,25],[106,14,85,26],[106,15,85,27],[107,6,86,4],[107,13,86,11,"items"],[107,18,86,16],[107,19,86,17,"reduce"],[107,25,86,23],[107,26,86,24],[107,27,86,25,"sum"],[107,30,86,28],[107,32,86,30,"item"],[107,36,86,34],[107,41,86,39,"sum"],[107,44,86,42],[107,47,86,45,"item"],[107,51,86,49],[107,52,86,50,"quantity"],[107,60,86,58],[107,62,86,60],[107,63,86,61],[107,64,86,62],[108,4,87,2],[109,2,88,0],[109,3,88,1],[109,4,88,2],[109,5,88,3],[110,0,88,4],[110,3]],"functionMap":{"names":["<global>","create$argument_0","addItem","items.find$argument_0","items.map$argument_0","removeItem","items.filter$argument_0","updateQuantity","clearCart","getSubtotal","items.reduce$argument_0","getTotal","getItemCount"],"mappings":"AAA;8CCe;WCI;oCCS,wCD;yBEG;kBFG;GDO;cIE;kCCE,uCD;GJM;kBME;uBHO;gBGG;GNG;aOE;GPE;eQE;wBCE,wDD;GRC;YUE;GVI;gBWE;wBFE,kCE;GXC;EDC"},"hasCjsExports":false},"type":"js/module"}]}