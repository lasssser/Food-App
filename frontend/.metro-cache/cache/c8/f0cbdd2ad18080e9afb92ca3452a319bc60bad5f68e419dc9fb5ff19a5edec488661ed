{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":177},"end":{"line":11,"column":42,"index":219}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _servicesApi = require(_dependencyMap[1], \"../services/api\");\n  const useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    isLoading: true,\n    isAuthenticated: false,\n    login: async (phone, password) => {\n      const response = await _servicesApi.authAPI.login(phone, password);\n      set({\n        user: response.user,\n        isAuthenticated: true\n      });\n      return response.user;\n    },\n    register: async (name, phone, password, role = 'customer') => {\n      const response = await _servicesApi.authAPI.register(name, phone, password, role);\n      set({\n        user: response.user,\n        isAuthenticated: true\n      });\n      return response.user;\n    },\n    logout: async () => {\n      await _servicesApi.authAPI.logout();\n      set({\n        user: null,\n        isAuthenticated: false\n      });\n    },\n    checkAuth: async () => {\n      try {\n        const token = await _servicesApi.authAPI.getToken();\n        if (token) {\n          const user = await _servicesApi.authAPI.getMe();\n          set({\n            user,\n            isAuthenticated: true,\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch {\n        set({\n          user: null,\n          isAuthenticated: false,\n          isLoading: false\n        });\n      }\n    }\n  }));\n});","lineCount":66,"map":[[7,2,23,0,"Object"],[7,8,23,0],[7,9,23,0,"defineProperty"],[7,23,23,0],[7,24,23,0,"exports"],[7,31,23,0],[8,4,23,0,"enumerable"],[8,14,23,0],[9,4,23,0,"get"],[9,7,23,0],[9,18,23,0,"get"],[9,19,23,0],[10,6,23,0],[10,13,23,0,"useAuthStore"],[10,25,23,0],[11,4,23,0],[12,2,23,0],[13,2,1,0],[13,6,1,0,"_zustand"],[13,14,1,0],[13,17,1,0,"require"],[13,24,1,0],[13,25,1,0,"_dependencyMap"],[13,39,1,0],[14,2,11,0],[14,6,11,0,"_servicesApi"],[14,18,11,0],[14,21,11,0,"require"],[14,28,11,0],[14,29,11,0,"_dependencyMap"],[14,43,11,0],[15,2,23,7],[15,8,23,13,"useAuthStore"],[15,20,23,25],[15,23,23,28],[15,27,23,28,"create"],[15,35,23,34],[15,36,23,34,"create"],[15,42,23,34],[15,44,23,47,"set"],[15,47,23,50],[15,52,23,56],[16,4,24,2,"user"],[16,8,24,6],[16,10,24,8],[16,14,24,12],[17,4,25,2,"isLoading"],[17,13,25,11],[17,15,25,13],[17,19,25,17],[18,4,26,2,"isAuthenticated"],[18,19,26,17],[18,21,26,19],[18,26,26,24],[19,4,28,2,"login"],[19,9,28,7],[19,11,28,9],[19,17,28,9,"login"],[19,18,28,16,"phone"],[19,23,28,29],[19,25,28,31,"password"],[19,33,28,47],[19,38,28,52],[20,6,29,4],[20,12,29,10,"response"],[20,20,29,18],[20,23,29,21],[20,29,29,27,"authAPI"],[20,41,29,34],[20,42,29,34,"authAPI"],[20,49,29,34],[20,50,29,35,"login"],[20,55,29,40],[20,56,29,41,"phone"],[20,61,29,46],[20,63,29,48,"password"],[20,71,29,56],[20,72,29,57],[21,6,30,4,"set"],[21,9,30,7],[21,10,30,8],[22,8,30,10,"user"],[22,12,30,14],[22,14,30,16,"response"],[22,22,30,24],[22,23,30,25,"user"],[22,27,30,29],[23,8,30,31,"isAuthenticated"],[23,23,30,46],[23,25,30,48],[24,6,30,53],[24,7,30,54],[24,8,30,55],[25,6,31,4],[25,13,31,11,"response"],[25,21,31,19],[25,22,31,20,"user"],[25,26,31,24],[26,4,32,2],[26,5,32,3],[27,4,34,2,"register"],[27,12,34,10],[27,14,34,12],[27,20,34,12,"register"],[27,21,34,19,"name"],[27,25,34,31],[27,27,34,33,"phone"],[27,32,34,46],[27,34,34,48,"password"],[27,42,34,64],[27,44,34,66,"role"],[27,48,34,78],[27,51,34,81],[27,61,34,91],[27,66,34,96],[28,6,35,4],[28,12,35,10,"response"],[28,20,35,18],[28,23,35,21],[28,29,35,27,"authAPI"],[28,41,35,34],[28,42,35,34,"authAPI"],[28,49,35,34],[28,50,35,35,"register"],[28,58,35,43],[28,59,35,44,"name"],[28,63,35,48],[28,65,35,50,"phone"],[28,70,35,55],[28,72,35,57,"password"],[28,80,35,65],[28,82,35,67,"role"],[28,86,35,71],[28,87,35,72],[29,6,36,4,"set"],[29,9,36,7],[29,10,36,8],[30,8,36,10,"user"],[30,12,36,14],[30,14,36,16,"response"],[30,22,36,24],[30,23,36,25,"user"],[30,27,36,29],[31,8,36,31,"isAuthenticated"],[31,23,36,46],[31,25,36,48],[32,6,36,53],[32,7,36,54],[32,8,36,55],[33,6,37,4],[33,13,37,11,"response"],[33,21,37,19],[33,22,37,20,"user"],[33,26,37,24],[34,4,38,2],[34,5,38,3],[35,4,40,2,"logout"],[35,10,40,8],[35,12,40,10],[35,18,40,10,"logout"],[35,19,40,10],[35,24,40,22],[36,6,41,4],[36,12,41,10,"authAPI"],[36,24,41,17],[36,25,41,17,"authAPI"],[36,32,41,17],[36,33,41,18,"logout"],[36,39,41,24],[36,40,41,25],[36,41,41,26],[37,6,42,4,"set"],[37,9,42,7],[37,10,42,8],[38,8,42,10,"user"],[38,12,42,14],[38,14,42,16],[38,18,42,20],[39,8,42,22,"isAuthenticated"],[39,23,42,37],[39,25,42,39],[40,6,42,45],[40,7,42,46],[40,8,42,47],[41,4,43,2],[41,5,43,3],[42,4,45,2,"checkAuth"],[42,13,45,11],[42,15,45,13],[42,21,45,13,"checkAuth"],[42,22,45,13],[42,27,45,25],[43,6,46,4],[43,10,46,8],[44,8,47,6],[44,14,47,12,"token"],[44,19,47,17],[44,22,47,20],[44,28,47,26,"authAPI"],[44,40,47,33],[44,41,47,33,"authAPI"],[44,48,47,33],[44,49,47,34,"getToken"],[44,57,47,42],[44,58,47,43],[44,59,47,44],[45,8,48,6],[45,12,48,10,"token"],[45,17,48,15],[45,19,48,17],[46,10,49,8],[46,16,49,14,"user"],[46,20,49,18],[46,23,49,21],[46,29,49,27,"authAPI"],[46,41,49,34],[46,42,49,34,"authAPI"],[46,49,49,34],[46,50,49,35,"getMe"],[46,55,49,40],[46,56,49,41],[46,57,49,42],[47,10,50,8,"set"],[47,13,50,11],[47,14,50,12],[48,12,50,14,"user"],[48,16,50,18],[49,12,50,20,"isAuthenticated"],[49,27,50,35],[49,29,50,37],[49,33,50,41],[50,12,50,43,"isLoading"],[50,21,50,52],[50,23,50,54],[51,10,50,60],[51,11,50,61],[51,12,50,62],[52,8,51,6],[52,9,51,7],[52,15,51,13],[53,10,52,8,"set"],[53,13,52,11],[53,14,52,12],[54,12,52,14,"isLoading"],[54,21,52,23],[54,23,52,25],[55,10,52,31],[55,11,52,32],[55,12,52,33],[56,8,53,6],[57,6,54,4],[57,7,54,5],[57,8,54,6],[57,14,54,12],[58,8,55,6,"set"],[58,11,55,9],[58,12,55,10],[59,10,55,12,"user"],[59,14,55,16],[59,16,55,18],[59,20,55,22],[60,10,55,24,"isAuthenticated"],[60,25,55,39],[60,27,55,41],[60,32,55,46],[61,10,55,48,"isLoading"],[61,19,55,57],[61,21,55,59],[62,8,55,65],[62,9,55,66],[62,10,55,67],[63,6,56,4],[64,4,57,2],[65,2,58,0],[65,3,58,1],[65,4,58,2],[65,5,58,3],[66,0,58,4],[66,3]],"functionMap":{"names":["<global>","create$argument_0","login","register","logout","checkAuth"],"mappings":"AAA;8CCsB;SCK;GDI;YEE;GFI;UGE;GHG;aIE;GJY;EDC"},"hasCjsExports":false},"type":"js/module"}]}