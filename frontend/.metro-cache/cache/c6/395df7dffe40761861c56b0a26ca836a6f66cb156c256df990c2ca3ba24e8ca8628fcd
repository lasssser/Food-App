{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useCartStore\", {\n    enumerable: true,\n    get: function () {\n      return useCartStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  // Generate unique key for cart items based on menu item ID and add-ons\n  var generateItemKey = (menuItemId, selectedAddOns) => {\n    if (!selectedAddOns || selectedAddOns.length === 0) {\n      return menuItemId;\n    }\n    var addOnKey = selectedAddOns.map(a => `${a.group_name}:${a.option_name}`).sort().join('|');\n    return `${menuItemId}_${addOnKey}`;\n  };\n\n  // Calculate item total including add-ons\n  var calculateItemTotal = item => {\n    var addOnsTotal = item.selectedAddOns?.reduce((sum, addon) => sum + addon.price, 0) || 0;\n    return (item.menuItem.price + addOnsTotal) * item.quantity;\n  };\n  var useCartStore = (0, _zustand.create)((set, get) => ({\n    items: [],\n    restaurant: null,\n    addItem: (menuItem, restaurant, selectedAddOns) => {\n      var _get = get(),\n        items = _get.items,\n        currentRestaurant = _get.restaurant;\n      var itemKey = generateItemKey(menuItem.id, selectedAddOns);\n\n      // If cart has items from different restaurant, clear it\n      if (currentRestaurant && currentRestaurant.id !== restaurant.id) {\n        set({\n          items: [{\n            menuItem,\n            quantity: 1,\n            selectedAddOns,\n            itemKey\n          }],\n          restaurant\n        });\n        return;\n      }\n      var existingItem = items.find(item => item.itemKey === itemKey);\n      if (existingItem) {\n        set({\n          items: items.map(item => item.itemKey === itemKey ? {\n            ...item,\n            quantity: item.quantity + 1\n          } : item),\n          restaurant\n        });\n      } else {\n        set({\n          items: [...items, {\n            menuItem,\n            quantity: 1,\n            selectedAddOns,\n            itemKey\n          }],\n          restaurant\n        });\n      }\n    },\n    removeItem: itemKey => {\n      var _get2 = get(),\n        items = _get2.items;\n      var newItems = items.filter(item => item.itemKey !== itemKey);\n      if (newItems.length === 0) {\n        set({\n          items: [],\n          restaurant: null\n        });\n      } else {\n        set({\n          items: newItems\n        });\n      }\n    },\n    updateQuantity: (itemKey, quantity) => {\n      var _get3 = get(),\n        items = _get3.items;\n      if (quantity <= 0) {\n        get().removeItem(itemKey);\n        return;\n      }\n      set({\n        items: items.map(item => item.itemKey === itemKey ? {\n          ...item,\n          quantity\n        } : item)\n      });\n    },\n    clearCart: () => {\n      set({\n        items: [],\n        restaurant: null\n      });\n    },\n    getSubtotal: () => {\n      var _get4 = get(),\n        items = _get4.items;\n      return items.reduce((sum, item) => sum + calculateItemTotal(item), 0);\n    },\n    getTotal: () => {\n      var _get5 = get(),\n        restaurant = _get5.restaurant;\n      var subtotal = get().getSubtotal();\n      return subtotal + (restaurant?.delivery_fee || 0);\n    },\n    getItemCount: () => {\n      var _get6 = get(),\n        items = _get6.items;\n      return items.reduce((sum, item) => sum + item.quantity, 0);\n    }\n  }));\n});","lineCount":123,"map":[[7,2,34,0,"Object"],[7,8,34,0],[7,9,34,0,"defineProperty"],[7,23,34,0],[7,24,34,0,"exports"],[7,31,34,0],[8,4,34,0,"enumerable"],[8,14,34,0],[9,4,34,0,"get"],[9,7,34,0],[9,18,34,0,"get"],[9,19,34,0],[10,6,34,0],[10,13,34,0,"useCartStore"],[10,25,34,0],[11,4,34,0],[12,2,34,0],[13,2,1,0],[13,6,1,0,"_zustand"],[13,14,1,0],[13,17,1,0,"require"],[13,24,1,0],[13,25,1,0,"_dependencyMap"],[13,39,1,0],[14,2,16,0],[15,2,17,0],[15,6,17,6,"generateItemKey"],[15,21,17,21],[15,24,17,24,"generateItemKey"],[15,25,17,25,"menuItemId"],[15,35,17,43],[15,37,17,45,"selectedAddOns"],[15,51,17,77],[15,56,17,90],[16,4,18,2],[16,8,18,6],[16,9,18,7,"selectedAddOns"],[16,23,18,21],[16,27,18,25,"selectedAddOns"],[16,41,18,39],[16,42,18,40,"length"],[16,48,18,46],[16,53,18,51],[16,54,18,52],[16,56,18,54],[17,6,19,4],[17,13,19,11,"menuItemId"],[17,23,19,21],[18,4,20,2],[19,4,21,2],[19,8,21,8,"addOnKey"],[19,16,21,16],[19,19,21,19,"selectedAddOns"],[19,33,21,33],[19,34,22,5,"map"],[19,37,22,8],[19,38,22,9,"a"],[19,39,22,10],[19,43,22,14],[19,46,22,17,"a"],[19,47,22,18],[19,48,22,19,"group_name"],[19,58,22,29],[19,62,22,33,"a"],[19,63,22,34],[19,64,22,35,"option_name"],[19,75,22,46],[19,77,22,48],[19,78,22,49],[19,79,23,5,"sort"],[19,83,23,9],[19,84,23,10],[19,85,23,11],[19,86,24,5,"join"],[19,90,24,9],[19,91,24,10],[19,94,24,13],[19,95,24,14],[20,4,25,2],[20,11,25,9],[20,14,25,12,"menuItemId"],[20,24,25,22],[20,28,25,26,"addOnKey"],[20,36,25,34],[20,38,25,36],[21,2,26,0],[21,3,26,1],[23,2,28,0],[24,2,29,0],[24,6,29,6,"calculateItemTotal"],[24,24,29,24],[24,27,29,28,"item"],[24,31,29,42],[24,35,29,55],[25,4,30,2],[25,8,30,8,"addOnsTotal"],[25,19,30,19],[25,22,30,22,"item"],[25,26,30,26],[25,27,30,27,"selectedAddOns"],[25,41,30,41],[25,43,30,43,"reduce"],[25,49,30,49],[25,50,30,50],[25,51,30,51,"sum"],[25,54,30,54],[25,56,30,56,"addon"],[25,61,30,61],[25,66,30,66,"sum"],[25,69,30,69],[25,72,30,72,"addon"],[25,77,30,77],[25,78,30,78,"price"],[25,83,30,83],[25,85,30,85],[25,86,30,86],[25,87,30,87],[25,91,30,91],[25,92,30,92],[26,4,31,2],[26,11,31,9],[26,12,31,10,"item"],[26,16,31,14],[26,17,31,15,"menuItem"],[26,25,31,23],[26,26,31,24,"price"],[26,31,31,29],[26,34,31,32,"addOnsTotal"],[26,45,31,43],[26,49,31,47,"item"],[26,53,31,51],[26,54,31,52,"quantity"],[26,62,31,60],[27,2,32,0],[27,3,32,1],[28,2,34,7],[28,6,34,13,"useCartStore"],[28,18,34,25],[28,21,34,28],[28,25,34,28,"create"],[28,33,34,34],[28,34,34,34,"create"],[28,40,34,34],[28,42,34,46],[28,43,34,47,"set"],[28,46,34,50],[28,48,34,52,"get"],[28,51,34,55],[28,57,34,61],[29,4,35,2,"items"],[29,9,35,7],[29,11,35,9],[29,13,35,11],[30,4,36,2,"restaurant"],[30,14,36,12],[30,16,36,14],[30,20,36,18],[31,4,38,2,"addItem"],[31,11,38,9],[31,13,38,11,"addItem"],[31,14,38,12,"menuItem"],[31,22,38,30],[31,24,38,32,"restaurant"],[31,34,38,54],[31,36,38,56,"selectedAddOns"],[31,50,38,88],[31,55,38,93],[32,6,39,4],[32,10,39,4,"_get"],[32,14,39,4],[32,17,39,53,"get"],[32,20,39,56],[32,21,39,57],[32,22,39,58],[33,8,39,12,"items"],[33,13,39,17],[33,16,39,17,"_get"],[33,20,39,17],[33,21,39,12,"items"],[33,26,39,17],[34,8,39,31,"currentRestaurant"],[34,25,39,48],[34,28,39,48,"_get"],[34,32,39,48],[34,33,39,19,"restaurant"],[34,43,39,29],[35,6,40,4],[35,10,40,10,"itemKey"],[35,17,40,17],[35,20,40,20,"generateItemKey"],[35,35,40,35],[35,36,40,36,"menuItem"],[35,44,40,44],[35,45,40,45,"id"],[35,47,40,47],[35,49,40,49,"selectedAddOns"],[35,63,40,63],[35,64,40,64],[37,6,42,4],[38,6,43,4],[38,10,43,8,"currentRestaurant"],[38,27,43,25],[38,31,43,29,"currentRestaurant"],[38,48,43,46],[38,49,43,47,"id"],[38,51,43,49],[38,56,43,54,"restaurant"],[38,66,43,64],[38,67,43,65,"id"],[38,69,43,67],[38,71,43,69],[39,8,44,6,"set"],[39,11,44,9],[39,12,44,10],[40,10,45,8,"items"],[40,15,45,13],[40,17,45,15],[40,18,45,16],[41,12,45,18,"menuItem"],[41,20,45,26],[42,12,45,28,"quantity"],[42,20,45,36],[42,22,45,38],[42,23,45,39],[43,12,45,41,"selectedAddOns"],[43,26,45,55],[44,12,45,57,"itemKey"],[45,10,45,65],[45,11,45,66],[45,12,45,67],[46,10,46,8,"restaurant"],[47,8,47,6],[47,9,47,7],[47,10,47,8],[48,8,48,6],[49,6,49,4],[50,6,51,4],[50,10,51,10,"existingItem"],[50,22,51,22],[50,25,51,25,"items"],[50,30,51,30],[50,31,51,31,"find"],[50,35,51,35],[50,36,51,36,"item"],[50,40,51,40],[50,44,51,44,"item"],[50,48,51,48],[50,49,51,49,"itemKey"],[50,56,51,56],[50,61,51,61,"itemKey"],[50,68,51,68],[50,69,51,69],[51,6,52,4],[51,10,52,8,"existingItem"],[51,22,52,20],[51,24,52,22],[52,8,53,6,"set"],[52,11,53,9],[52,12,53,10],[53,10,54,8,"items"],[53,15,54,13],[53,17,54,15,"items"],[53,22,54,20],[53,23,54,21,"map"],[53,26,54,24],[53,27,54,25,"item"],[53,31,54,29],[53,35,55,10,"item"],[53,39,55,14],[53,40,55,15,"itemKey"],[53,47,55,22],[53,52,55,27,"itemKey"],[53,59,55,34],[53,62,56,14],[54,12,56,16],[54,15,56,19,"item"],[54,19,56,23],[55,12,56,25,"quantity"],[55,20,56,33],[55,22,56,35,"item"],[55,26,56,39],[55,27,56,40,"quantity"],[55,35,56,48],[55,38,56,51],[56,10,56,53],[56,11,56,54],[56,14,57,14,"item"],[56,18,58,8],[56,19,58,9],[57,10,59,8,"restaurant"],[58,8,60,6],[58,9,60,7],[58,10,60,8],[59,6,61,4],[59,7,61,5],[59,13,61,11],[60,8,62,6,"set"],[60,11,62,9],[60,12,62,10],[61,10,63,8,"items"],[61,15,63,13],[61,17,63,15],[61,18,63,16],[61,21,63,19,"items"],[61,26,63,24],[61,28,63,26],[62,12,63,28,"menuItem"],[62,20,63,36],[63,12,63,38,"quantity"],[63,20,63,46],[63,22,63,48],[63,23,63,49],[64,12,63,51,"selectedAddOns"],[64,26,63,65],[65,12,63,67,"itemKey"],[66,10,63,75],[66,11,63,76],[66,12,63,77],[67,10,64,8,"restaurant"],[68,8,65,6],[68,9,65,7],[68,10,65,8],[69,6,66,4],[70,4,67,2],[70,5,67,3],[71,4,69,2,"removeItem"],[71,14,69,12],[71,16,69,15,"itemKey"],[71,23,69,30],[71,27,69,35],[72,6,70,4],[72,10,70,4,"_get2"],[72,15,70,4],[72,18,70,22,"get"],[72,21,70,25],[72,22,70,26],[72,23,70,27],[73,8,70,12,"items"],[73,13,70,17],[73,16,70,17,"_get2"],[73,21,70,17],[73,22,70,12,"items"],[73,27,70,17],[74,6,71,4],[74,10,71,10,"newItems"],[74,18,71,18],[74,21,71,21,"items"],[74,26,71,26],[74,27,71,27,"filter"],[74,33,71,33],[74,34,71,34,"item"],[74,38,71,38],[74,42,71,42,"item"],[74,46,71,46],[74,47,71,47,"itemKey"],[74,54,71,54],[74,59,71,59,"itemKey"],[74,66,71,66],[74,67,71,67],[75,6,72,4],[75,10,72,8,"newItems"],[75,18,72,16],[75,19,72,17,"length"],[75,25,72,23],[75,30,72,28],[75,31,72,29],[75,33,72,31],[76,8,73,6,"set"],[76,11,73,9],[76,12,73,10],[77,10,73,12,"items"],[77,15,73,17],[77,17,73,19],[77,19,73,21],[78,10,73,23,"restaurant"],[78,20,73,33],[78,22,73,35],[79,8,73,40],[79,9,73,41],[79,10,73,42],[80,6,74,4],[80,7,74,5],[80,13,74,11],[81,8,75,6,"set"],[81,11,75,9],[81,12,75,10],[82,10,75,12,"items"],[82,15,75,17],[82,17,75,19,"newItems"],[83,8,75,28],[83,9,75,29],[83,10,75,30],[84,6,76,4],[85,4,77,2],[85,5,77,3],[86,4,79,2,"updateQuantity"],[86,18,79,16],[86,20,79,18,"updateQuantity"],[86,21,79,19,"itemKey"],[86,28,79,34],[86,30,79,36,"quantity"],[86,38,79,52],[86,43,79,57],[87,6,80,4],[87,10,80,4,"_get3"],[87,15,80,4],[87,18,80,22,"get"],[87,21,80,25],[87,22,80,26],[87,23,80,27],[88,8,80,12,"items"],[88,13,80,17],[88,16,80,17,"_get3"],[88,21,80,17],[88,22,80,12,"items"],[88,27,80,17],[89,6,81,4],[89,10,81,8,"quantity"],[89,18,81,16],[89,22,81,20],[89,23,81,21],[89,25,81,23],[90,8,82,6,"get"],[90,11,82,9],[90,12,82,10],[90,13,82,11],[90,14,82,12,"removeItem"],[90,24,82,22],[90,25,82,23,"itemKey"],[90,32,82,30],[90,33,82,31],[91,8,83,6],[92,6,84,4],[93,6,85,4,"set"],[93,9,85,7],[93,10,85,8],[94,8,86,6,"items"],[94,13,86,11],[94,15,86,13,"items"],[94,20,86,18],[94,21,86,19,"map"],[94,24,86,22],[94,25,86,23,"item"],[94,29,86,27],[94,33,87,8,"item"],[94,37,87,12],[94,38,87,13,"itemKey"],[94,45,87,20],[94,50,87,25,"itemKey"],[94,57,87,32],[94,60,88,12],[95,10,88,14],[95,13,88,17,"item"],[95,17,88,21],[96,10,88,23,"quantity"],[97,8,88,32],[97,9,88,33],[97,12,89,12,"item"],[97,16,90,6],[98,6,91,4],[98,7,91,5],[98,8,91,6],[99,4,92,2],[99,5,92,3],[100,4,94,2,"clearCart"],[100,13,94,11],[100,15,94,13,"clearCart"],[100,16,94,13],[100,21,94,19],[101,6,95,4,"set"],[101,9,95,7],[101,10,95,8],[102,8,95,10,"items"],[102,13,95,15],[102,15,95,17],[102,17,95,19],[103,8,95,21,"restaurant"],[103,18,95,31],[103,20,95,33],[104,6,95,38],[104,7,95,39],[104,8,95,40],[105,4,96,2],[105,5,96,3],[106,4,98,2,"getSubtotal"],[106,15,98,13],[106,17,98,15,"getSubtotal"],[106,18,98,15],[106,23,98,21],[107,6,99,4],[107,10,99,4,"_get4"],[107,15,99,4],[107,18,99,22,"get"],[107,21,99,25],[107,22,99,26],[107,23,99,27],[108,8,99,12,"items"],[108,13,99,17],[108,16,99,17,"_get4"],[108,21,99,17],[108,22,99,12,"items"],[108,27,99,17],[109,6,100,4],[109,13,100,11,"items"],[109,18,100,16],[109,19,100,17,"reduce"],[109,25,100,23],[109,26,100,24],[109,27,100,25,"sum"],[109,30,100,28],[109,32,100,30,"item"],[109,36,100,34],[109,41,100,39,"sum"],[109,44,100,42],[109,47,100,45,"calculateItemTotal"],[109,65,100,63],[109,66,100,64,"item"],[109,70,100,68],[109,71,100,69],[109,73,100,71],[109,74,100,72],[109,75,100,73],[110,4,101,2],[110,5,101,3],[111,4,103,2,"getTotal"],[111,12,103,10],[111,14,103,12,"getTotal"],[111,15,103,12],[111,20,103,18],[112,6,104,4],[112,10,104,4,"_get5"],[112,15,104,4],[112,18,104,27,"get"],[112,21,104,30],[112,22,104,31],[112,23,104,32],[113,8,104,12,"restaurant"],[113,18,104,22],[113,21,104,22,"_get5"],[113,26,104,22],[113,27,104,12,"restaurant"],[113,37,104,22],[114,6,105,4],[114,10,105,10,"subtotal"],[114,18,105,18],[114,21,105,21,"get"],[114,24,105,24],[114,25,105,25],[114,26,105,26],[114,27,105,27,"getSubtotal"],[114,38,105,38],[114,39,105,39],[114,40,105,40],[115,6,106,4],[115,13,106,11,"subtotal"],[115,21,106,19],[115,25,106,23,"restaurant"],[115,35,106,33],[115,37,106,35,"delivery_fee"],[115,49,106,47],[115,53,106,51],[115,54,106,52],[115,55,106,53],[116,4,107,2],[116,5,107,3],[117,4,109,2,"getItemCount"],[117,16,109,14],[117,18,109,16,"getItemCount"],[117,19,109,16],[117,24,109,22],[118,6,110,4],[118,10,110,4,"_get6"],[118,15,110,4],[118,18,110,22,"get"],[118,21,110,25],[118,22,110,26],[118,23,110,27],[119,8,110,12,"items"],[119,13,110,17],[119,16,110,17,"_get6"],[119,21,110,17],[119,22,110,12,"items"],[119,27,110,17],[120,6,111,4],[120,13,111,11,"items"],[120,18,111,16],[120,19,111,17,"reduce"],[120,25,111,23],[120,26,111,24],[120,27,111,25,"sum"],[120,30,111,28],[120,32,111,30,"item"],[120,36,111,34],[120,41,111,39,"sum"],[120,44,111,42],[120,47,111,45,"item"],[120,51,111,49],[120,52,111,50,"quantity"],[120,60,111,58],[120,62,111,60],[120,63,111,61],[120,64,111,62],[121,4,112,2],[122,2,113,0],[122,3,113,1],[122,4,113,2],[122,5,113,3],[123,0,113,4],[123,3]],"functionMap":{"names":["<global>","generateItemKey","selectedAddOns.map$argument_0","calculateItemTotal","item.selectedAddOns.reduce$argument_0","create$argument_0","addItem","items.find$argument_0","items.map$argument_0","removeItem","items.filter$argument_0","updateQuantity","clearCart","getSubtotal","items.reduce$argument_0","getTotal","getItemCount"],"mappings":"AAA;wBCgB;SCK,uCD;CDI;2BGG;kDCC,iCD;CHE;8CKE;WCI;oCCa,gCD;yBEG;kBFG;GDU;cIE;kCCE,gCD;GJM;kBME;uBHO;gBGG;GNG;aOE;GPE;eQE;wBCE,6CD;GRC;YUE;GVI;gBWE;wBFE,kCE;GXC;ELC"},"hasCjsExports":false},"type":"js/module"}]}