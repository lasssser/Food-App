{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":177},"end":{"line":11,"column":42,"index":219}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _servicesApi = require(_dependencyMap[1], \"../services/api\");\n  const useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    isLoading: true,\n    isAuthenticated: false,\n    isGuest: false,\n    login: async (phone, password) => {\n      const response = await _servicesApi.authAPI.login(phone, password);\n      set({\n        user: response.user,\n        isAuthenticated: true,\n        isGuest: false\n      });\n      return response.user;\n    },\n    register: async (name, phone, password, role = 'customer', city_id) => {\n      const response = await _servicesApi.authAPI.register(name, phone, password, role, city_id);\n      set({\n        user: response.user,\n        isAuthenticated: true,\n        isGuest: false\n      });\n      return response.user;\n    },\n    logout: async () => {\n      await _servicesApi.authAPI.logout();\n      set({\n        user: null,\n        isAuthenticated: false,\n        isGuest: false\n      });\n    },\n    checkAuth: async () => {\n      try {\n        const token = await _servicesApi.authAPI.getToken();\n        if (token) {\n          const user = await _servicesApi.authAPI.getMe();\n          set({\n            user,\n            isAuthenticated: true,\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch {\n        set({\n          user: null,\n          isAuthenticated: false,\n          isLoading: false\n        });\n      }\n    },\n    setGuestMode: value => {\n      set({\n        isGuest: value,\n        isLoading: false\n      });\n    }\n  }));\n});","lineCount":76,"map":[[7,2,25,0,"Object"],[7,8,25,0],[7,9,25,0,"defineProperty"],[7,23,25,0],[7,24,25,0,"exports"],[7,31,25,0],[8,4,25,0,"enumerable"],[8,14,25,0],[9,4,25,0,"get"],[9,7,25,0],[9,18,25,0,"get"],[9,19,25,0],[10,6,25,0],[10,13,25,0,"useAuthStore"],[10,25,25,0],[11,4,25,0],[12,2,25,0],[13,2,1,0],[13,6,1,0,"_zustand"],[13,14,1,0],[13,17,1,0,"require"],[13,24,1,0],[13,25,1,0,"_dependencyMap"],[13,39,1,0],[14,2,11,0],[14,6,11,0,"_servicesApi"],[14,18,11,0],[14,21,11,0,"require"],[14,28,11,0],[14,29,11,0,"_dependencyMap"],[14,43,11,0],[15,2,25,7],[15,8,25,13,"useAuthStore"],[15,20,25,25],[15,23,25,28],[15,27,25,28,"create"],[15,35,25,34],[15,36,25,34,"create"],[15,42,25,34],[15,44,25,47,"set"],[15,47,25,50],[15,52,25,56],[16,4,26,2,"user"],[16,8,26,6],[16,10,26,8],[16,14,26,12],[17,4,27,2,"isLoading"],[17,13,27,11],[17,15,27,13],[17,19,27,17],[18,4,28,2,"isAuthenticated"],[18,19,28,17],[18,21,28,19],[18,26,28,24],[19,4,29,2,"isGuest"],[19,11,29,9],[19,13,29,11],[19,18,29,16],[20,4,31,2,"login"],[20,9,31,7],[20,11,31,9],[20,17,31,9,"login"],[20,18,31,16,"phone"],[20,23,31,29],[20,25,31,31,"password"],[20,33,31,47],[20,38,31,52],[21,6,32,4],[21,12,32,10,"response"],[21,20,32,18],[21,23,32,21],[21,29,32,27,"authAPI"],[21,41,32,34],[21,42,32,34,"authAPI"],[21,49,32,34],[21,50,32,35,"login"],[21,55,32,40],[21,56,32,41,"phone"],[21,61,32,46],[21,63,32,48,"password"],[21,71,32,56],[21,72,32,57],[22,6,33,4,"set"],[22,9,33,7],[22,10,33,8],[23,8,33,10,"user"],[23,12,33,14],[23,14,33,16,"response"],[23,22,33,24],[23,23,33,25,"user"],[23,27,33,29],[24,8,33,31,"isAuthenticated"],[24,23,33,46],[24,25,33,48],[24,29,33,52],[25,8,33,54,"isGuest"],[25,15,33,61],[25,17,33,63],[26,6,33,69],[26,7,33,70],[26,8,33,71],[27,6,34,4],[27,13,34,11,"response"],[27,21,34,19],[27,22,34,20,"user"],[27,26,34,24],[28,4,35,2],[28,5,35,3],[29,4,37,2,"register"],[29,12,37,10],[29,14,37,12],[29,20,37,12,"register"],[29,21,37,19,"name"],[29,25,37,31],[29,27,37,33,"phone"],[29,32,37,46],[29,34,37,48,"password"],[29,42,37,64],[29,44,37,66,"role"],[29,48,37,78],[29,51,37,81],[29,61,37,91],[29,63,37,93,"city_id"],[29,70,37,109],[29,75,37,114],[30,6,38,4],[30,12,38,10,"response"],[30,20,38,18],[30,23,38,21],[30,29,38,27,"authAPI"],[30,41,38,34],[30,42,38,34,"authAPI"],[30,49,38,34],[30,50,38,35,"register"],[30,58,38,43],[30,59,38,44,"name"],[30,63,38,48],[30,65,38,50,"phone"],[30,70,38,55],[30,72,38,57,"password"],[30,80,38,65],[30,82,38,67,"role"],[30,86,38,71],[30,88,38,73,"city_id"],[30,95,38,80],[30,96,38,81],[31,6,39,4,"set"],[31,9,39,7],[31,10,39,8],[32,8,39,10,"user"],[32,12,39,14],[32,14,39,16,"response"],[32,22,39,24],[32,23,39,25,"user"],[32,27,39,29],[33,8,39,31,"isAuthenticated"],[33,23,39,46],[33,25,39,48],[33,29,39,52],[34,8,39,54,"isGuest"],[34,15,39,61],[34,17,39,63],[35,6,39,69],[35,7,39,70],[35,8,39,71],[36,6,40,4],[36,13,40,11,"response"],[36,21,40,19],[36,22,40,20,"user"],[36,26,40,24],[37,4,41,2],[37,5,41,3],[38,4,43,2,"logout"],[38,10,43,8],[38,12,43,10],[38,18,43,10,"logout"],[38,19,43,10],[38,24,43,22],[39,6,44,4],[39,12,44,10,"authAPI"],[39,24,44,17],[39,25,44,17,"authAPI"],[39,32,44,17],[39,33,44,18,"logout"],[39,39,44,24],[39,40,44,25],[39,41,44,26],[40,6,45,4,"set"],[40,9,45,7],[40,10,45,8],[41,8,45,10,"user"],[41,12,45,14],[41,14,45,16],[41,18,45,20],[42,8,45,22,"isAuthenticated"],[42,23,45,37],[42,25,45,39],[42,30,45,44],[43,8,45,46,"isGuest"],[43,15,45,53],[43,17,45,55],[44,6,45,61],[44,7,45,62],[44,8,45,63],[45,4,46,2],[45,5,46,3],[46,4,48,2,"checkAuth"],[46,13,48,11],[46,15,48,13],[46,21,48,13,"checkAuth"],[46,22,48,13],[46,27,48,25],[47,6,49,4],[47,10,49,8],[48,8,50,6],[48,14,50,12,"token"],[48,19,50,17],[48,22,50,20],[48,28,50,26,"authAPI"],[48,40,50,33],[48,41,50,33,"authAPI"],[48,48,50,33],[48,49,50,34,"getToken"],[48,57,50,42],[48,58,50,43],[48,59,50,44],[49,8,51,6],[49,12,51,10,"token"],[49,17,51,15],[49,19,51,17],[50,10,52,8],[50,16,52,14,"user"],[50,20,52,18],[50,23,52,21],[50,29,52,27,"authAPI"],[50,41,52,34],[50,42,52,34,"authAPI"],[50,49,52,34],[50,50,52,35,"getMe"],[50,55,52,40],[50,56,52,41],[50,57,52,42],[51,10,53,8,"set"],[51,13,53,11],[51,14,53,12],[52,12,53,14,"user"],[52,16,53,18],[53,12,53,20,"isAuthenticated"],[53,27,53,35],[53,29,53,37],[53,33,53,41],[54,12,53,43,"isLoading"],[54,21,53,52],[54,23,53,54],[55,10,53,60],[55,11,53,61],[55,12,53,62],[56,8,54,6],[56,9,54,7],[56,15,54,13],[57,10,55,8,"set"],[57,13,55,11],[57,14,55,12],[58,12,55,14,"isLoading"],[58,21,55,23],[58,23,55,25],[59,10,55,31],[59,11,55,32],[59,12,55,33],[60,8,56,6],[61,6,57,4],[61,7,57,5],[61,8,57,6],[61,14,57,12],[62,8,58,6,"set"],[62,11,58,9],[62,12,58,10],[63,10,58,12,"user"],[63,14,58,16],[63,16,58,18],[63,20,58,22],[64,10,58,24,"isAuthenticated"],[64,25,58,39],[64,27,58,41],[64,32,58,46],[65,10,58,48,"isLoading"],[65,19,58,57],[65,21,58,59],[66,8,58,65],[66,9,58,66],[66,10,58,67],[67,6,59,4],[68,4,60,2],[68,5,60,3],[69,4,62,2,"setGuestMode"],[69,16,62,14],[69,18,62,17,"value"],[69,23,62,31],[69,27,62,36],[70,6,63,4,"set"],[70,9,63,7],[70,10,63,8],[71,8,63,10,"isGuest"],[71,15,63,17],[71,17,63,19,"value"],[71,22,63,24],[72,8,63,26,"isLoading"],[72,17,63,35],[72,19,63,37],[73,6,63,43],[73,7,63,44],[73,8,63,45],[74,4,64,2],[75,2,65,0],[75,3,65,1],[75,4,65,2],[75,5,65,3],[76,0,65,4],[76,3]],"functionMap":{"names":["<global>","create$argument_0","login","register","logout","checkAuth","setGuestMode"],"mappings":"AAA;8CCwB;SCM;GDI;YEE;GFI;UGE;GHG;aIE;GJY;gBKE;GLE;EDC"},"hasCjsExports":false},"type":"js/module"}]}